<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<meta charset="utf-8" />
<script src="js/jquery.js"></script>
<script src="js/seedrandom.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous">
</script>
<style>
    label{
        font-size:large
    }
    div .icon {
        position:relative;
        float:right;
        box-shadow:1px 1px 2px rgba(20%,20%,40%,0.5);
        height:18px;
        width:18px;
        line-height:17px;
        background-color:lightgrey;
        border-radius:3px;
        border:grey solid 1px;
        text-align:center;
    }
    div .dissapear {
        display:none;
    }
    div .explaination {
        position: relative;
        float: right;
        left:-5px;
        padding:4px;
        height: auto;
        width: 150px;
        color:white;
        line-height: 17px;
        background-color:rgba(0,0,0,0.7);
        border-radius: 3px;
        text-align: left;
    }
    #randomTable {
    font-family: monospace;
    font-size: 2.0em;
    background-color:white;
    border-radius:3px;
    padding-top:20px;
    padding-bottom:20px;
    width:320px;
    height:auto;
    min-height:100px;
    left:18px;
    text-align:center;
    border:1px dashed grey ;

}
    table{
        font-size:large;
    }
    .show{
        position:relative;
        float:right; 
        width:400px;
        height:auto;
    }
    .showEx{
        background:rgba(200, 200, 200, 0.60);
        padding:4px;
        border-radius:3px;
        margin-top:5px;
        margin-bottom:10px;
    }

</style>
</head>

<body>
    <br />
    <div class="container">
        <div class="jumbotron">
            <h1>好用、不怕忘的密碼</h1>
            <hr />
            <h3><span class="label label-success">Step 1  輸入編號</span></h3>

            <!--輸入亂數表編號-->
            <div class="row">
                <div class="form-group col-xs-5">
                    <label for="txtSeed">請輸入亂數表的編號</label>
                    <input type="text" class="form-control" id="txtSeed" placeholder="請輸入編號">
                </div>
                <div class="icon" id="divIcon1">?</div>
                <div class="explaination dissapear" id="divExp1">輸入特定的編號後，便能得到特定的亂數表，因此您應記住自己所輸入的編號。</div>
            </div>
            <br>

            <!--選擇格式-->
            <h3><span class="label label-success">Step 2  選擇格式</span></h3>

            <!--選擇內容-->
            <div class="row" style="height:60px">
                <div style="position:relative; float:left;left:16px;">
                    <label>1. 請選擇亂數表的生成內容(可複選)</label><br>
                    <label class="radio-inline"><input type="checkbox" name="checkbox1" value="Num" />數字</label>
                    <label class="radio-inline"><input type="checkbox" name="checkbox1" value="Cl" />英文大寫</label>
                    <label class="radio-inline"><input type="checkbox" name="checkbox1" value="Sl" />英文小寫</label>
                </div>
                <div class="icon" id="divIcon2">?</div>
                <div class="explaination dissapear" id="divExp2">亂數表內容可為純數字、大寫或小寫英文字母，請至少勾選一項。</div>
            </div>

            <br />
            <!--選擇行數-->
            <div class="row" style="height:80px">
                <div style="position:relative; float:left;left:16px;">
                    <label>2. 請選擇亂數表的行數</label><br>
                    <table>
                        <tr>
                            <td width="200px"><input type="range" id="sRow" max="15" min="1" value="1"></td>
                            <td width="50px" align="right">共</td>
                            <td id="rowNum" width="50px" align="center"></td>
                            <td>行</td>
                        </tr>
                    </table>
                </div>
                <div class="icon" id="divIcon3">?</div>
                <div class="explaination dissapear" id="divExp3">亂數表的行數通常代表密碼的字元數，即每一行對應到一個字元。</div>
            </div>
            <br />

            <!--產生亂數表按鈕-->
            <button type="button" class="btn btn-primary btn-lg" id="btnGo">產生亂數表</button>
            <br>
            <div class="row" style="margin-top:20px;">
                <!-- 亂數表-->
                <div id="randomTable" style="position:relative; float:left"></div>

                <!-- 說明欄-->
                <div  class="show" style="top:-10px;">
                    <h4><span class="label label-default">說明</span></h4>
                    <ol style="padding-left:20px;">
                        <li>由特定編號產生亂數表後，您可在每一行選擇一個字元作為密碼。
                            <div class="showEx">
                                <div style="background-color:rgba(255,255,255,0.5);padding:2px;margin-bottom:4px">
                                <b>在編號為1234的亂數表中選擇密碼:965...</b>
                                </div>
                                <div style="background-color:rgba(255,255,255,0.5);padding:2px;">
                                    <ul style="list-style-type:none;padding-left:0px;">
                                        <li>01: 34<font color="red"><b>9</b></font>9305845
                                        <li>02: 1769<font color="red"><b>6</b></font>46932
                                        <li>03: 317<font color="red"><b>5</b></font>789704
                                        <li>04: ...
                                        <li>05: ...
                                    </ul>
                                </div>
                                </div>
                        <li>選定密碼後，記錄下每一個字元的行數與位置。
                            <div class="showEx">
                                <div style="background-color:rgba(255,255,255,0.5);padding:2px;margin-bottom:4px">
                                    <b>在適當的地方紀錄下位置</b>
                                </div>
                                <div style="background-color:rgba(255,255,255,0.5);padding:2px;">
                                    <ul style="list-style-type:none;padding-left:0px;">
                                        <li>01: 34<font color="red"><b>9</b></font>9305845&nbsp;&nbsp;&nbsp;<b>位置:(1,3)</b>
                                        <li>02: 1769<font color="red"><b>6</b></font>46932&nbsp;&nbsp;&nbsp;<b>位置:(2,5)</b>
                                        <li>03: 317<font color="red"><b>5</b></font>789704&nbsp;&nbsp;&nbsp;<b>位置:(3,4)</b>
                                        <li>04: ...
                                        <li>05: ...
                                    </ul>
                                </div>
                            </div>
                        <li>依此類推，只要記住亂數表編號，配合密碼在亂數表的位置，就再也不怕忘記密碼了。
                    </ol>
                </div>
            </div>

        </div>
    </div>

    <script>

    //點擊 #btnGo 按鈕執行函式
    $("#btnGo").click(function () {
        var sPool = ""
        var selected = [];
        //把所有圈選的項目加入 selected 陣列中
        $("[name=checkbox1]:checkbox:checked").each(function () {
              selected.push($(this).val());
        });

        //若 selected 陣列有各種元素，則加入對應元素到sPool字串
        if ($.inArray("Num", selected) >= 0) {
            sPool += "0123456789"
        }
        if ($.inArray("Cl", selected) >= 0) {
            sPool += "ABCDEFGHJKLMNPQRSTUVWXYZ"
        }
        if ($.inArray("Sl", selected) >= 0) {
            sPool += "abcdefghijkmnpqrstuvwxyz"
        }
        if (selected.length == 0) {
            alert("請勾選至少一項的亂數表格式");
            return;
        }
        var result = "";

        // 設定亂數種子
        Math.seedrandom($("#txtSeed").val());
        var iRandom = 0; var ch = "?";
        //產生 sRow 行
        for (iRow = 1; iRow <= sRow.value; iRow++) {
            var sLine = (iRow + 100).toString().substr(1, 2) + ": ";
            for (iCol = 1; iCol <= 10; iCol++) {
                iRandom = Math.floor(Math.random() * sPool.length);
                ch = sPool.substr(iRandom, 1);
                sLine += ch;
            }
            result += sLine + "<br>";
        }
        $("#randomTable").html(result);

    });
        /*
   // function clickRow() {
   //     rowNum.innerText = sRow.value
   // }
   // clickRow()
   */
    $("#sRow").change(function () {
        $("#p1").text(sRow.value)
        $("#rowNum").text(sRow.value)
    })
    $("#rowNum").text(sRow.value)

    //指標移到或離開 ? 物件的效果
    $("#divIcon1").mouseover(function () {
        $("#divExp1").removeClass("dissapear");
        $(" #divIcon1").css("background-color", "white");
    })
    $("#divIcon1").mouseleave(function () {
        $("#divExp1").addClass("dissapear");
        $(" #divIcon1").css("background-color", "lightgrey");
    })

    $("#divIcon2").mouseover(function () {
        $("#divExp2").removeClass("dissapear");
        $(" #divIcon2").css("background-color", "white");
    })
    $("#divIcon2").mouseleave(function () {
        $("#divExp2").addClass("dissapear");
        $(" #divIcon2").css("background-color", "lightgrey");
    })

    $("#divIcon3").mouseover(function () {
        $("#divExp3").removeClass("dissapear");
        $(" #divIcon3").css("background-color", "white");
    })
    $("#divIcon3").mouseleave(function () {
        $("#divExp3").addClass("dissapear");
        $(" #divIcon3").css("background-color", "lightgrey");
    })



    </script>
  
</body>
</html>
